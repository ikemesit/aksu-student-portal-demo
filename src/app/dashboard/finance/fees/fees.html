<div class="space-y-8 p-8">
  <!-- Outstanding Fees -->
  <div class="bg-white rounded-lg shadow-md p-8">
    <h2 class="text-2xl font-semibold text-slate-800 mb-6">Outstanding Fees</h2>
    @for (fee of unpaidFees(); track fee.id) {
    <div class="border-b border-slate-200 py-4 flex justify-between items-center">
      <div>
        <p class="font-semibold text-slate-700">{{ fee.description }}</p>
        <p class="text-sm text-slate-500">Due: {{ fee.dueDate }}</p>
      </div>
      <p class="font-semibold text-red-600">{{ fee.amount | currency : 'NGN' }}</p>
    </div>
    } @empty {
    <p class="text-green-600 font-medium">All fees paid! ðŸŽ‰</p>
    }
  </div>

  <!-- Make Payment -->
  <div class="bg-white rounded-lg shadow-md p-8">
    <h2 class="text-2xl font-semibold text-slate-800 mb-6">Make a Payment</h2>
    <form (ngSubmit)="pay()" class="space-y-4">
      <div>
        <label class="block text-slate-700 font-semibold mb-2">Amount</label>
        <input
          type="number"
          [(ngModel)]="amount"
          name="amount"
          title="Amount"
          placeholder="Enter amount to pay"
          required
          min="1"
          step="0.01"
          class="w-full px-4 py-2 border rounded-lg"
        />
      </div>
      <div>
        <label class="block text-slate-700 font-semibold mb-2">Payment Method</label>
        <select
          [(ngModel)]="method"
          name="method"
          title="Payment Method"
          required
          class="w-full px-4 py-2 border rounded-lg"
        >
          <option>Bank Transfer</option>
          <option>Credit Card</option>
          <option>Mobile Money</option>
        </select>
      </div>
      <button
        type="submit"
        class="bg-green-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-green-700 transition-colors"
      >
        Pay Now
      </button>
    </form>
  </div>

  <!-- Payment History -->
  @defer {
  <div class="bg-white rounded-lg shadow-md p-8">
    <h2 class="text-2xl font-semibold text-slate-800 mb-6">Payment History</h2>
    <table class="min-w-full divide-y divide-slate-200">
      <thead>
        <tr class="border-b border-slate-200">
          <th class="text-left py-2 text-sm font-semibold text-slate-700">Date</th>
          <th class="text-left py-2 text-sm font-semibold text-slate-700">Amount</th>
          <th class="text-left py-2">Method</th>
        </tr>
      </thead>
      <tbody>
        @for (p of student()?.payments; track p.id) {
        <tr class="border-b">
          <td class="py-3">{{ p.date }}</td>
          <td class="py-3">{{ p.amount | currency : 'NGN' }}</td>
          <td class="py-3">{{ p.method }}</td>
        </tr>
        }
      </tbody>
    </table>
  </div>
  }
</div>
